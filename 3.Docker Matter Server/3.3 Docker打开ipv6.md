由于 docker 默认没有开启 IPv6 支持，在容器内部输入命令 curl -6 ip.sb 就会报错

## 容器使用的网卡打开IPV6

docker network ls   （ha docker）

~~~
NETWORK ID     NAME                              DRIVER    SCOPE
2f1b2e62cc78   bridge                            bridge    local
c190f447be65   host                              host      local
4e4114b168fc   mosquitto_default                 bridge    local
f640f69d0fa6   none                              null      local
caefea183540   sherpa-onnx_default               bridge    local
e9bd32755d40   vosk_default                      bridge    local
95fd917067c9   wyoming-vosk-standalone_default   bridge    local

~~~



# Enabling IPv6 support in docker. (容器内部打开IPV6)

Setup IPv6 properly on docker


Enable IPv6 support in docker

这种方式是让 docker 默认的 bridge 网络启用 ipv6

cat /etc/docker/daemon.json
~~~
{
  "experimental": true,
  "ip6tables": true
}
~~~

~~~
sudo systemctl restart docker
~~~

This will enable ipv6tables support for Docker, which allows port mapping and network isolation, but requires the experimental flag.


## 查docker 使用的网卡

docker network inspect host
~~~
docker network inspect host
[
    {
        "Name": "host",
        "Id": "c190f447be65f71760a5e7b322546f47e68877a9fa8bc73992c0e450dfe86306",
        "Created": "2025-04-25T07:50:12.159728098+08:00",
        "Scope": "local",
        "Driver": "host",
        "EnableIPv4": true,
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": null,


~~~

检查3个容器的IPv6 

curl http://[::1]:5580


curl http://[::1]:8080


curl http://[::1]:8123





source:

Setup IPv6 properly on docker

https://fariszr.com/docker-ipv6-setup-with-propagation/

https://docs.docker.com/engine/daemon/ipv6/

https://www.amjun.com/2704.html


